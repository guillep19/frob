\input{cases/intro.tex}

\section {Problema}
\input{cases/problem.tex}

\section {Solución}

  Se armó un robot móvil que cuenta con 3 sensores:

\begin{itemize}
\item Sensor de grises izquierdo
\item Sensor de grises derecho
\item Sensor de distancia apuntando hacia la derecha
\end{itemize}

  Y 2 actuadores:

\begin{itemize}
\item Motor izquierdo
\item Motor derecho 
\end{itemize}

\input{cases/breadboard.tex}

  El diagrama de la Figura \ref{fig:breadboard} muestra los
componentes físicos que son montados en el robot
para resolver el problema y cómo se interconectan.
  Arriba se pueden ver los dos motores, que irán uno a cada lado
del robot y sólo se moverán hacia adelante.
  Se utilizan salidas \textit{pwm} \footnote{PWM: Del inglés, pulse width
modulation; Modulación por ancho de pulsos. Se utiliza para crear señales
de voltaje en ciclos periódicos y controlar la cantidad de energía que
se envía.} del MBED para controlar la velocidad de cada motor.

  Los motores necesitan más energía que la que se puede entregar con
los pines de salida del MBED, y para ésto tienen su propia fuente de
voltaje.
  Se utilizan dos transistores para amplificar la señal que
controla cada motor.

  El robot utilizará dos sensores de grises montados al frente
para mantenerse sobre la línea, ambos pueden verse a la derecha abajo
en la Figura \ref{fig:breadboard}.
  Con los motores el robot se moverá hacia adelante inicialmente, e
irá corrigiendo su dirección desacelerando el motor del lado que
se salga de la línea.
  Junto a cada sensor de grises se montará una luz led, que de acuerdo
al color del suelo, se reflejará y se podrá decidir si se está viendo
algo oscuro (la línea) o algo claro (fuera de la línea).

  El sensor de distancia a la izquierda debajo en la figura, se montará
en el robot apuntando hacia la derecha, para saber cuándo el mismo
está pasando frente a una casa.

  Durante el trayecto se mantendrá la cuenta de las casas, y el robot
se detendrá totalmente cuando la cuenta llegue al valor 5.

  En la Figura \ref{fig:robotfisico} se puede ver el
robot físico creado como prototipo para probar el caso de estudio.

\input{cases/alf.tex}

\newpage
\subsection{Implementación usando \frob{}}
  Luego se llega a la implementación en el lenguaje \frob{}:

\input{cases/code_willie.tex}

\subsection{Diagrama de la solución}
  Utilizando la notación definida en la Sección \ref{section:diseno},
en la Figura \ref{fig:delivery} se puede ver gráficamente de qué forma
se combinan las señales para lograr el objetivo.

\input{cases/graph.tex}

% TODO(Marcos): Explicar el diagrama, asociarlo con el codigo


%\section{Solución sin utilizar \frob}

%\begin{verbatim}

%\end{verbatim}

% TODO(Marcos,Jorge): Tenemos alguna version escrita en C y/o tortugarte para
% Explicar el programa, la mecanica de como se cuentan
% las casas. Poner un ejemplo imperativo.

\section {Conclusiones del caso}
\input{cases/conclusiones.tex}

