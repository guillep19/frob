\begin{center}
\begin{tikzpicture}
\selectlanguage{english}
  %%\draw[step=1cm,gray,very thin,xshift=0cm,yshift=0cm] (0,0) grid (12,4);
  \begin{scope}[xshift=0cm,yshift=0cm,very thick,
    node distance=2cm,on grid,>=stealth',
    block/.style={rectangle,draw,fill=cyan!20},
    func/.style={rectangle,draw,fill=green!20},
    comp/.style={circle,draw,fill=orange!40},
  stack/.style={rectangle split,rectangle split parts=#1,draw,anchor=center}]
  \node[stack=4,xshift=4cm,yshift=2cm,
        text width=1.1cm,align=center,text height=0.3cm] {
    \nodepart{one} $s_n$
    \nodepart{two} $s_{n-1}$
    \nodepart{three} $\dotsb$
    \nodepart{four} $s_o$
  };
  \node [comp] (ca1) [xshift=1cm, yshift=3cm] {$\texttt{S}_{src}$};
    \draw [->,line width=1pt] (2.7,2.8) -- node[below]{\tiny{TOS}} (3.3, 2.8);
   \end{scope} 
   \draw [->,line width=1.7pt](5,2) -- (7,2);
   \begin{scope}[xshift=7cm,yshift=0cm,very thick,
    node distance=2cm,on grid,>=stealth',
    block/.style={rectangle,draw,fill=cyan!20},
    value/.style={rectangle,draw,fill=red!20},
    func/.style={rectangle,draw,fill=green!20},
    comp/.style={circle,draw,fill=orange!40},
    stack/.style={rectangle split,rectangle split parts=#1,draw,anchor=center}]
  \node[stack=4,xshift=4cm,yshift=2cm,
        text width=1.1cm,align=center,text height=0.3cm] {
    \nodepart{one} \vphantom{$s_n$}
    \nodepart{two} $s_{n-1}$
    \nodepart{three} $\dotsb$
    \nodepart{four} $s_o$
  };
  \draw [->,line width=1pt] (2.7,2.2) -- node[below]{\tiny{TOS}} (3.3, 2.2);
   \node [func]  (f1) [xshift=2.5cm, yshift=1cm]  {f};
   \node [value] (v) [xshift=0cm, yshift=1cm]  {${s_n}$} ;
   \node [comp]  (cb)  [xshift=1.5cm, yshift=1cm]   {$\texttt{S}_{id}$} edge [-] (f1);
   \node [comp]  (ca1)  [above=of cb] {$\texttt{S}_{src}$} edge [->] (cb);
 \end{scope} 
   \draw[-,line width=1pt] (cb) -- node[below]{\tiny{state}} (v);
\selectlanguage{spanish}
\end{tikzpicture}
\end{center}
